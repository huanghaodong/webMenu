webpackJsonp([1],{0:function(t,e){},"175/":function(t,e){},"4f04":function(t,e,n){t.exports=n.p+"static/img/searchBg_03.8131a5b.jpg"},"4tjM":function(t,e,n){t.exports=n.p+"static/img/searchBg_02.f4c7f4c.jpg"},"5pCm":function(t,e){},"80QC":function(t,e,n){t.exports=n.p+"static/img/searchBg_01.1363e78.jpg"},"8Cot":function(t,e){},CnqU:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={};n.d(a,"changeMsg",function(){return B}),n.d(a,"loginIn",function(){return E}),n.d(a,"loginOut",function(){return q}),n.d(a,"changeLoginPageStateTrue",function(){return Y}),n.d(a,"changeLoginPageStateFalse",function(){return A});var i={};n.d(i,"mutationsMsg",function(){return Q}),n.d(i,"mutationsLoginState",function(){return W}),n.d(i,"mutationsLoginPageState",function(){return Z});var s={};n.d(s,"gettersMsg",function(){return z}),n.d(s,"getterLoginState",function(){return G}),n.d(s,"getterLoginPageState",function(){return K});var o=n("7+uW"),r=n("Dd8w"),c=n.n(r),u=n("NYxO"),l={name:"app",props:["show"],data:function(){return{loginInfo:{account:"",password:""}}},computed:c()({},Object(u.c)(["getterLoginPageState"])),methods:c()({},Object(u.b)(["changeLoginPageStateFalse"]))},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),t._v(" "),n("my-loading",{attrs:{show:t.show}}),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.getterLoginPageState?n("div",{staticClass:"loginLayer"},[n("div",{staticClass:"form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginInfo.account,expression:"loginInfo.account"}],staticClass:"account",attrs:{type:"text"},domProps:{value:t.loginInfo.account},on:{input:function(e){e.target.composing||t.$set(t.loginInfo,"account",e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginInfo.password,expression:"loginInfo.password"}],staticClass:"password",attrs:{type:"password"},domProps:{value:t.loginInfo.password},on:{input:function(e){e.target.composing||t.$set(t.loginInfo,"password",e.target.value)}}}),t._v(" "),n("button",{staticClass:"loginBtn",on:{click:function(e){t.changeLoginPageStateFalse(t.loginInfo)}}},[t._v("登陆")]),t._v(" "),n("div",{staticClass:"tip"},[n("a",{staticClass:"tipLeft",attrs:{href:""}},[t._v("忘记密码")]),t._v(" "),n("a",{staticClass:"tipRight",attrs:{href:""}},[t._v("新用户注册")])])]),t._v(" "),n("div",{staticClass:"footerTip"},[t._v("\n        登陆即代表阅读并同意"),n("a",{staticClass:"blue",attrs:{href:""}},[t._v("服务条款")])])]):t._e()])],1)},staticRenderFns:[]};var g=n("VU/8")(l,d,!1,function(t){n("Zc71")},null,null).exports,m=n("/ocq"),f=[n("80QC"),n("4tjM"),n("4f04")],v={name:"HomeSearch",data:function(){return{bgImg:f[0],value:""}},created:function(){this.bgImg=f[Math.floor(Math.random()*f.length)]}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"homeSearch",style:{backgroundImage:"url("+t.bgImg+")"}},[n("div",{staticClass:"box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"input",attrs:{type:"text",placeholder:"发现美食"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),t._v(" "),n("router-link",{staticClass:"fa fa-search search",attrs:{to:{name:"ListByName",params:{dishName:t.value}}}})],1)])},staticRenderFns:[]};var h=n("VU/8")(v,p,!1,function(t){n("8Cot")},"data-v-e58718fe",null).exports,_={name:"HomeSort",data:function(){return{list:[],focusIndex:""}},methods:{clickItem:function(t){t===this.focusIndex?this.focusIndex="":this.focusIndex=t}},mounted:function(){this.$http.post("/api/category",{key:"5c1abcdb494382186bf2ea20a6aff5a4"},{emulateJSON:!0}).then(function(t){this.list=JSON.parse(t.bodyText).result},function(t){console.log(t)})}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"homeSort"},[n("ul",{staticClass:"parentUl"},t._l(t.list,function(e,a){return n("li",[n("a",{on:{click:function(e){t.clickItem(a)}}},[t._v(t._s(e.name))]),t._v(" "),a===t.focusIndex?n("ul",{staticClass:"childUl"},t._l(e.list,function(e){return n("li",[n("router-link",{attrs:{to:{name:"ListById",params:{dishId:e.id}}}},[t._v(t._s(e.name))])],1)})):t._e()])}))])},staticRenderFns:[]};var b=n("VU/8")(_,y,!1,function(t){n("5pCm")},"data-v-46ee1b7c",null).exports,S={name:"HomeMore",data:function(){return{msg:"Welcome to Your Vue.js App"}},computed:c()({},Object(u.c)(["gettersMsg","getterLoginState"])),methods:c()({},Object(u.b)(["changeMsg"]))},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"homeMore"},[e("div",{staticClass:"container"},[e("p",[this._v(this._s("账户："+this.gettersMsg.account))]),this._v(" "),e("button",{on:{click:this.changeMsg}},[this._v(this._s(this.getterLoginState?"注销":"登陆"))])])])},staticRenderFns:[]};var w=n("VU/8")(S,C,!1,function(t){n("175/")},"data-v-5eefc674",null).exports,L={name:"Home",data:function(){return{title:"搜索"}},methods:c()({changeHome:function(t){this.title=t}},Object(u.b)(["changeLoginPageStateTrue"])),computed:c()({},Object(u.c)(["getterLoginState","gettersMsg"])),components:{HomeSearch:h,HomeSort:b,HomeMore:w}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("header",[t.getterLoginState?n("i",[t._v(t._s("欢迎，"+t.gettersMsg.account))]):n("i",{staticClass:"fa fa-search",on:{click:t.changeLoginPageStateTrue}}),t._v("\n    "+t._s(t.title)+"\n  ")]),t._v(" "),n("section",[n("HomeSearch",{style:{display:"搜索"==t.title?"flex":"none"}}),t._v(" "),n("HomeSort",{style:{display:"分类"==t.title?"flex":"none"}}),t._v(" "),n("HomeMore",{style:{display:"更多"==t.title?"flex":"none"}})],1),t._v(" "),n("footer",[n("a",{on:{click:function(e){t.changeHome("搜索")}}},[t._v("搜索")]),t._v(" "),n("a",{on:{click:function(e){t.changeHome("分类")}}},[t._v("分类")]),t._v(" "),n("a",{on:{click:function(e){t.changeHome("更多")}}},[t._v("更多")])])])},staticRenderFns:[]};var I=n("VU/8")(L,x,!1,function(t){n("UPlk")},"data-v-cd6d5f94",null).exports,P={name:"Detail",data:function(){return{detailData:{id:"1",title:"",tags:"",imtro:"",ingredients:"",burden:"",albums:[],steps:[{img:"",step:""}]}}},mounted:function(){var t={key:"5c1abcdb494382186bf2ea20a6aff5a4",id:this.$route.params.id};this.$http.post("/api/queryid",t,{emulateJSON:!0}).then(function(t){console.log(JSON.parse(t.bodyText).result.data),this.detailData=JSON.parse(t.bodyText).result.data[0]},function(t){console.log(t)})}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detail"},[n("my-nav"),t._v(" "),n("div",{staticClass:"container"},[n("img",{staticClass:"headImage",attrs:{src:t.detailData.albums,alt:""}}),t._v(" "),n("h1",[t._v(t._s(t.detailData.title))]),t._v(" "),n("table",[n("tr",[n("td",{staticClass:"tit"},[t._v("关键字")]),t._v(" "),n("td",[t._v(t._s(t.detailData.tags))])]),t._v(" "),n("tr",[n("td",{staticClass:"tit"},[t._v("介绍")]),t._v(" "),n("td",[t._v(t._s(t.detailData.imtro))])]),t._v(" "),n("tr",[n("td",{staticClass:"tit"},[t._v("材料")]),t._v(" "),n("td",[t._v(t._s(t.detailData.ingredients))])]),t._v(" "),n("tr",[n("td",{staticClass:"tit"},[t._v("原料")]),t._v(" "),n("td",[t._v(t._s(t.detailData.burden))])]),t._v(" "),n("tr",[n("td",{staticClass:"tit"},[t._v("步骤")]),t._v(" "),n("td",[n("ul",t._l(t.detailData.steps,function(e){return n("li",[n("img",{attrs:{src:e.img,alt:""}}),t._v(" "),n("p",[t._v(t._s(e.step))])])}))])])])])],1)},staticRenderFns:[]};var N=n("VU/8")(P,k,!1,function(t){n("bO0f")},"data-v-26819566",null).exports;n("7t+N");var O={name:"List",data:function(){return{list:[]}},mounted:function(){var t=this.$route.params,e=t.dishName,n=t.dishId,a=void 0,i={key:"5c1abcdb494382186bf2ea20a6aff5a4"};e?(i.menu=e,a="/api/query.php"):(i.cid=n,a="/api/index"),this.$http.post(a,i,{emulateJSON:!0}).then(function(t){console.log(t),this.list=JSON.parse(t.bodyText).result.data},function(t){console.log(t)})}},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[n("my-nav"),t._v(" "),n("ul",t._l(t.list,function(e){return n("li",{style:{backgroundImage:"url("+e.albums+")"}},[n("router-link",{attrs:{to:{name:"Detail",params:{id:e.id}}}},[n("h1",[n("em",[t._v(t._s(e.title))])]),t._v(" "),n("div",[n("i",{staticClass:"fa fa-chevron-right go"})])])],1)}))],1)},staticRenderFns:[]};var H=n("VU/8")(O,M,!1,function(t){n("tOnO")},"data-v-20097d30",null).exports,$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav"},[n("div",{staticClass:"btn",on:{click:function(e){t.goBack()}}},[n("i",{staticClass:"fa fa-chevron-left fa-lg"})])])},staticRenderFns:[]};var U=n("VU/8")({name:"Nav",data:function(){return{}},methods:{goBack:function(){this.$router.go(-1)}}},$,!1,function(t){n("Ygyu")},"data-v-84e86e42",null).exports,D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.show.show,expression:"show.show"}],staticClass:"loading"},[e("i",{staticClass:"fa fa-spinner fa-pulse fa-5x "})])},staticRenderFns:[]};var j=n("VU/8")({name:"Detail",props:["show"],data:function(){return{}}},D,!1,function(t){n("Vd8l")},"data-v-90798508",null).exports;o.a.directive("my-directive",function(t,e){e.value.length>0&&e.value.length<4||e.value.length>8?(t.innerHTML="请输入4-8位",t.style.display="block"):/^\d+$/.test(e.value)?(t.innerHTML="不能为纯数字",t.style.display="block"):t.style.display="none"});var F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],style:{border:t.bd},attrs:{type:"text",lazy:""},domProps:{value:t.msg},on:{input:function(e){e.target.composing||(t.msg=e.target.value)}}}),t._v(" "),n("h1",{directives:[{name:"my-directive",rawName:"v-my-directive",value:t.msg,expression:"msg"}]})])},staticRenderFns:[]};var T=n("VU/8")({name:"Login",data:function(){return{msg:"",bd:""}}},F,!1,function(t){n("CnqU")},"data-v-12740112",null).exports;o.a.use(m.a),o.a.component("my-nav",U),o.a.component("my-loading",j);var V=new m.a({routes:[{path:"/",name:"Home",component:I},{path:"/detail/:id",name:"Detail",component:N},{path:"/list/dishName/:dishName",name:"ListByName",component:H},{path:"/list/dishId/:dishId",name:"ListById",component:H},{path:"/login",name:"Login",component:T}]}),R=n("8+8L"),B=function(t){var e=t.dispatch;t.commit;t.state.loginState?e("loginOut"):e("changeLoginPageStateTrue")},E=function(t,e){var n=t.commit;n({type:"mutationsMsg",userInfo:{account:e.account}}),n({type:"mutationsLoginState",loginState:!0})},J={account:""},q=function(t,e){var n=t.commit;t.state;n({type:"mutationsMsg",userInfo:J}),n({type:"mutationsLoginState",loginState:!1})},Y=function(t){t.dispatch;var e=t.commit;t.state;e({type:"mutationsLoginPageState",isShowLoginPage:!0})},A=function(t,e){var n=t.dispatch,a=t.commit;t.state;setTimeout(function(){a({type:"mutationsLoginPageState",isShowLoginPage:!1}),n("loginIn",e)},3e3)},Q=function(t,e){t.userInfo=e.userInfo},W=function(t,e){t.loginState=e.loginState},Z=function(t,e){t.isShowLoginPage=e.isShowLoginPage},z=function(t){return t.userInfo},G=function(t){return t.loginState},K=function(t){return t.isShowLoginPage},X={loginState:!1,isShowLoginPage:!1,userInfo:{account:""}};o.a.use(u.a);var tt=new u.a.Store({state:X,getters:s,actions:a,mutations:i});o.a.use(R.a),o.a.config.productionTip=!1;var et={show:!1};o.a.http.interceptors.push(function(t,e){et.show=!0,e(function(t){return et.show=!1,t})}),new o.a({el:"#app",data:function(){return{show:et}},router:V,store:tt,template:'<App v-bind:show = "show" />',components:{App:g}})},UPlk:function(t,e){},Vd8l:function(t,e){},Ygyu:function(t,e){},Zc71:function(t,e){},bO0f:function(t,e){},tOnO:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3c735ecbadf1b0b7c713.js.map